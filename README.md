# LessLeak-Bench: A First Investigation of Data Leakage in LLMs Across 83 Software Engineering Benchmarks

This is the replication package for the paper "LessLeak-Bench: A First Investigation of Data Leakage in
LLMs Across 83 Software Engineering Benchmarks". 

In this study, we presents the first large-scale analysis of data leakage in 83 SE benchmarks concerning LLMs.
We systematically investigated whether, and to what extent, popular SE benchmark data samples were included in
a LLM’s pre-training data.

<p align="center">
  <img src="lessleak_framework.png" alt="Overview of This Study" width="50%">
</p>


## Python Library Installation

# Pre-requirement
1. Python3.9
2. CUDA 10.2
3. Conda 

```
conda create -n lessleak python=3.9
pip install -r requirements.txt
conda install pytorch==2.0.1 torchvision==0.15.2 torchaudio==2.0.2 -c pytorch
pip install transformers==4.37.0
pip install datasets==2.20.0
pip install joblib
```

## Data Prepartion 

Our study will compare the LLM's pre-training data and the SE benchmark data.
The SE benchmark data is already uploaded to Huggingface and can be easily reused.
For the detailed information about studied SE benchmark, please refer to the file 'SE_benchmark_info.xsxl'.

However, as the pre-training data of LLM is huge, we require users to download the LLM's pre-training
data in a local machine and then can run this repo.

You can find the link to the LLM pre-training (StarCoder's pre-traning data) via: 

Java: https://huggingface.co/datasets/bigcode/starcoderdata/tree/main/java

Python: https://huggingface.co/datasets/bigcode/starcoderdata/tree/main/python

C: https://huggingface.co/datasets/bigcode/starcoderdata/tree/main/c

C++: https://huggingface.co/datasets/bigcode/starcoderdata/tree/main/cpp

Once you downlaod the pretraining data, please place them under the folder "1.starcoder_data".


## MinHash+LSH for Leakage Detection (With Access to LLM Pre-training Data)

Our approach involved using an efficient near-duplicate data detection algorithm, MinHash+LSH, to identify potential duplicate pairs between the SE benchmarks and LLM’s pre-training
dataset.



Please run the following pipeline script (example for Java):

```
cd minhash_lsh/java/
bash run.sh
```

Notes:
1. '--dataset' is the name of the SE benchmark data on Huggingface and the program will automatically download the corresdponding SE benchmark data from Huggingface
2. '--min_ngram_size' and '--threshold' is the hyper-parameters for MinHash+LSH


## LessLeak-Bench

After using the MinHash+LSH and a manual labeling process, we obtain our LessLeak-Bench.  Specifically, we remove all identified leaked samples from each studied SE benchmark, 
producing cleaned versions that are free from known data leakage. This curated collection, LessLeak-Bench, serves as a more reliable benchmark for evaluating LLMs across diverse SE tasks.

You can visit our LessLeak-Bench in folder 'less-leak-data'.  
One basic data point in LessLeak-Bench is one pair: 1) one sample from a SE benchmark; 2) one sample from SE pre-training data.
The pairs are either duplicate or non-duplicate. 
If the pairs are duplicate, then it indicate that the SE benchmark sample in the pair is leaked. 

The detailed format of the data (one pair) is like below , 
```json
[               # SE Benchmark Data Sample in the Pair
                {
                        "id": "test_api-misuse-repair-complete_data_779", ##Unique Data ID for SE Benchmark Data
                        "content": "private static <T extends AbstractJaxb> boolean execute(String id, T target, java.lang.Object replace) throws TagTypeUnmatchException { TagEnum tagEnum = TagEnum.valueOf(target.getClass().getSimpleName().toUpperCase()); if (id.equals(target.getId())) { return false; } switch(tagEnum) { case A: A a = (A) target; if (a.isSetContent()) { return replaceByIdWithinObjectList(id, a.getContent(), replace); } break; case ABBR: Abbr abbr = (Abbr) target; if (abbr.isSetContent()) { return replaceByIdWithinObjectList(id, abbr.getContent(), replace); } break; case ACRONYM: Acronym acronym = (Acronym) target; if (acronym.isSetContent()) { return replaceByIdWithinObjectList(id, acronym.getContent(), replace); } break; case ADDRESS: Address address = (Address) target; if (address.isSetContent()) { return replaceByIdWithinObjectList(id, address.getContent(), replace); } break; case APPLET: Applet applet = (Applet) target; if (applet.isSetContent()) { return replaceByIdWithinObjectList(id, applet.getContent(), replace); } break; case AREA: break; case B: B b = (B) target; if (b.isSetContent()) { return replaceByIdWithinObjectList(id, b.getContent(), replace); } break; case BASE: break; case BASEFONT: break; case BDO: Bdo bdo = (Bdo) target; if (bdo.isSetContent()) { return replaceByIdWithinObjectList(id, bdo.getContent(), replace); } break; case BIG: Big big = (Big) target; if (big.isSetContent()) { return replaceByIdWithinObjectList(id, big.getContent(), replace); } break; case BLOCKQUOTE: Blockquote blockquote = (Blockquote) target; if (blockquote.isSetContent()) { return replaceByIdWithinObjectList(id, blockquote.getContent(), replace); } break; case BODY: Body body = (Body) target; if (body.isSetContent()) { return replaceByIdWithinObjectList(id, body.getContent(), replace); } break; case BR: break; case BUTTON: Button button = (Button) target; if (button.isSetContent()) { return replaceByIdWithinObjectList(id, button.getContent(), replace); } break; case CAPTION: Caption caption = (Caption) target; if (caption.isSetContent()) { return replaceByIdWithinObjectList(id, caption.getContent(), replace); } break; case CENTER: Center center = (Center) target; if (center.isSetContent()) { return replaceByIdWithinObjectList(id, center.getContent(), replace); } break; case CITE: Cite cite = (Cite) target; if (cite.isSetContent()) { return replaceByIdWithinObjectList(id, cite.getContent(), replace); } break; case CODE: Code code = (Code) target; if (code.isSetContent()) { return replaceByIdWithinObjectList(id, code.getContent(), replace); } break; case COL: break; case COLGROUP: Colgroup colgroup = (Colgroup) target; if (colgroup.isSetCol()) { for (int i = 0; i < colgroup.getCol().size(); i++) { Col col1 = colgroup.getCol().get(i); if (col1.isSetId() && col1.getId().equals(col1)) { if (replace instanceof Col) { colgroup.getCol().set(i, (Col) replace); return true; } else { throw new TagTypeUnmatchException(Col.class, replace.getClass()); } } } } break; case DD: Dd dd = (Dd) target; if (dd.isSetContent()) { return replaceByIdWithinObjectList(id, dd.getContent(), replace); } break; case DEL: Del del = (Del) target; if (del.isSetContent()) { return replaceByIdWithinObjectList(id, del.getContent(), replace); } break; case DFN: Dfn dfn = (Dfn) target; if (dfn.isSetContent()) { return replaceByIdWithinObjectList(id, dfn.getContent(), replace); } break; case DIR: Dir dir = (Dir) target; if (dir.isSetLi()) { for (int i = 0; i < dir.getLi().size(); i++) { Li li = dir.getLi().get(i); if (li.isSetId() && li.getId().equals(id)) { if (replace instanceof Li) { dir.getLi().set(i, (Li) replace); return true; } else { throw new TagTypeUnmatchException(Li.class, replace.getClass()); } } else { if (execute(id, li, replace)) { return true; } } } } break; case DIV: Div div = (Div) target; if (div.isSetContent()) { return replaceByIdWithinObjectList(id, div.getContent(), replace); } break; case DL: Dl dl = (Dl) target; if (dl.isSetDtOrDd()) { for (int i = 0; i < dl.getDtOrDd().size(); i++) { AbstractJaxb obj = dl.getDtOrDd().get(i); if (id.equals(obj.getId())) { if (obj instanceof Dt || obj instanceof Dd) { dl.getDtOrDd().set(i, (AbstractJaxb) replace); return true; } else { throw new TagTypeUnmatchException(Dd.class, obj.getClass()); } } else { if (execute(id, obj, replace)) { return true; } } } } break; case DT: Dt dt = (Dt) target; if (dt.isSetContent()) { return replaceByIdWithinObjectList(id, dt.getContent(), replace); } break; case EM: Em em = (Em) target; if (em.isSetContent()) { return replaceByIdWithinObjectList(id, em.getContent(), replace); } break; case FIELDSET: Fieldset fieldset = (Fieldset) target; if (fieldset.isSetContent()) { return replaceByIdWithinObjectList(id, fieldset.getContent(), replace); } break; case FONT: Font font = (Font) target; if (font.isSetContent()) { return replaceByIdWithinObjectList(id, font.getContent(), replace); } break; case FORM: Form form = (Form) target; if (form.isSetContent()) { return replaceByIdWithinObjectList(id, form.getContent(), replace); } break; case H1: H1 h1 = (H1) target; if (h1.isSetContent()) { return replaceByIdWithinObjectList(id, h1.getContent(), replace); } break; case H2: H2 h2 = (H2) target; if (h2.isSetContent()) { return replaceByIdWithinObjectList(id, h2.getContent(), replace); } break; case H3: H3 h3 = (H3) target; if (h3.isSetContent()) { return replaceByIdWithinObjectList(id, h3.getContent(), replace); } break; case H4: H4 h4 = (H4) target; if (h4.isSetContent()) { return replaceByIdWithinObjectList(id, h4.getContent(), replace); } break; case H5: H5 h5 = (H5) target; if (h5.isSetContent()) { return replaceByIdWithinObjectList(id, h5.getContent(), replace); } break; case H6: H6 h6 = (H6) target; if (h6.isSetContent()) { return replaceByIdWithinObjectList(id, h6.getContent(), replace); } break; case HGROUP: Hgroup hgroup = (Hgroup) target; if (hgroup.isSetH1OrH2OrH3()) { for (AbstractJaxb aj : hgroup.getH1OrH2OrH3()) { if (execute(id, aj, replace)) { return true; } } } break; case HEAD: Head head = (Head) target; for (AbstractJaxb obj : head.getContent()) { if (execute(id, obj, replace)) { return true; } } break; case HR: break; case HTML: Html html = (Html) target; if (html.isSetHead()) { if (execute(id, html.getHead(), replace)) { return true; } } if (html.isSetBody()) { if (execute(id, html.getBody(), replace)) { return true; } } break; case I: I i = (I) target; if (i.isSetContent()) { return replaceByIdWithinObjectList(id, i.getContent(), replace); } break; case IFRAME: Iframe iframe = (Iframe) target; if (iframe.isSetContent()) { return replaceByIdWithinObjectList(id, iframe.getContent(), replace); } break; case IMG: break; case INPUT: break; case INS: Ins ins = (Ins) target; if (ins.isSetContent()) { return replaceByIdWithinObjectList(id, ins.getContent(), replace); } break; case ISINDEX: break; case KBD: Kbd kbd = (Kbd) target; if (kbd.isSetContent()) { return replaceByIdWithinObjectList(id, kbd.getContent(), replace); } break; case LABEL: Label label = (Label) target; if (label.isSetContent()) { return replaceByIdWithinObjectList(id, label.getContent(), replace); } break; case LEGEND: Legend legend = (Legend) target; if (legend.isSetContent()) { return replaceByIdWithinObjectList(id, legend.getContent(), replace); } break; case LI: Li li = (Li) target; if (li.isSetContent()) { return replaceByIdWithinObjectList(id, li.getContent(), replace); } break; case LINK: break; case MAP: Map map = (Map) target; if (map.isSetArea()) { for (int j = 0; j < map.getArea().size(); j++) { Area area2 = map.getArea().get(j); if (area2.isSetId() && id.equals(area2.getId())) { map.getArea().set(j, (Area) replace); return true; } } } if (map.isSetPOrH1OrH2()) { for (int k = 0; k < map.getPOrH1OrH2().size(); k++) { AbstractJaxb obj = map.getPOrH1OrH2().get(k); if (id.equals(obj.getId())) { map.getPOrH1OrH2().set(k, (AbstractJaxb) replace); return true; } else { if (execute(id, obj, replace)) { return true; } } } } break; case MENU: Menu menu = (Menu) target; if (menu.isSetContent()) { return replaceByIdWithinObjectList(id, menu.getContent(), replace); } break; case META: break; case NOFRAMES: Noframes noframes = (Noframes) target; if (noframes.isSetContent()) { return replaceByIdWithinObjectList(id, noframes.getContent(), replace); } break; case NOSCRIPT: Noscript noscript = (Noscript) target; if (noscript.isSetContent()) { return replaceByIdWithinObjectList(id, noscript.getContent(), replace); } break; case OBJECT: org.mixer2.jaxb.xhtml.Object object = (org.mixer2.jaxb.xhtml.Object) target; if (object.isSetContent()) { return replaceByIdWithinObjectList(id, object.getContent(), replace); } break; case OL: Ol ol = (Ol) target; if (ol.isSetLi()) { for (int j = 0; j < ol.getLi().size(); j++) { Li li2 = ol.getLi().get(j); if (li2.isSetId() && li2.getId().equals(id)) { if (replace instanceof Li) { ol.getLi().set(j, (Li) replace); return true; } else { throw new TagTypeUnmatchException(Li.class, replace.getClass()); } } else { if (execute(id, li2, replace)) { return true; } } } } break; case OPTGROUP: Optgroup optgroup = (Optgroup) target; if (optgroup.isSetOption()) { for (int j = 0; j < optgroup.getOption().size(); j++) { Option option = optgroup.getOption().get(j); if (option.isSetId() && option.getId().equals(id)) { if (replace instanceof Option) { optgroup.getOption().set(j, (Option) replace); return true; } else { throw new TagTypeUnmatchException(Option.class, replace.getClass()); } } else { if (execute(id, option, replace)) { return true; } } } } break; case OPTION: break; case P: P p = (P) target; if (p.isSetContent()) { return replaceByIdWithinObjectList(id, p.getContent(), replace); } break; case PARAM: break; case PRE: Pre pre = (Pre) target; if (pre.isSetContent()) { return replaceByIdWithinObjectList(id, pre.getContent(), replace); } break; case Q: Q q = (Q) target; if (q.isSetContent()) { return replaceByIdWithinObjectList(id, q.getContent(), replace); } break; case S: S s = (S) target; if (s.isSetContent()) { return replaceByIdWithinObjectList(id, s.getContent(), replace); } break; case SAMP: Samp samp = (Samp) target; if (samp.isSetContent()) { return replaceByIdWithinObjectList(id, samp.getContent(), replace); } break; case SCRIPT: break; case SELECT: Select select = (Select) target; if (select.isSetOptgroupOrOption()) { for (int j = 0; j < select.getOptgroupOrOption().size(); j++) { AbstractJaxb obj = select.getOptgroupOrOption().get(j); if (id.equals(obj.getId())) { if (obj.getClass().equals(Optgroup.class) || obj.getClass().equals(Option.class)) { select.getOptgroupOrOption().set(j, (AbstractJaxb) replace); } else { throw new TagTypeUnmatchException(\"Option or Optgroup expected, but replace is \" + replace.getClass()); } return true; } else { if (execute(id, obj, replace)) { return true; } } } } break; case SMALL: Small small = (Small) target; if (small.isSetContent()) { return replaceByIdWithinObjectList(id, small.getContent(), replace); } break; case SPAN: Span span = (Span) target; if (span.isSetContent()) { return replaceByIdWithinObjectList(id, span.getContent(), replace); } break; case STRIKE: Strike strike = (Strike) target; if (strike.isSetContent()) { return replaceByIdWithinObjectList(id, strike.getContent(), replace); } break; case STRONG: Strong strong = (Strong) target; if (strong.isSetContent()) { return replaceByIdWithinObjectList(id, strong.getContent(), replace); } break; case STYLE: break; case SUB: Sub sub = (Sub) target; if (sub.isSetContent()) { return replaceByIdWithinObjectList(id, sub.getContent(), replace); } break; case SUP: Sup sup = (Sup) target; if (sup.isSetContent()) { return replaceByIdWithinObjectList(id, sup.getContent(), replace); } break; case TABLE: Table table = (Table) target; if (table.isSetCaption()) { Caption capt = table.getCaption(); if (capt.isSetId() && id.equals(capt.getId())) { if (replace instanceof Caption) { table.setCaption((Caption) replace); return true; } else { throw new TagTypeUnmatchException(Caption.class, replace.getClass()); } } else { if (replaceByIdWithinObjectList(id, capt.getContent(), replace)) { return true; } } } if (table.isSetCol()) { for (int j = 0; j < table.getCol().size(); j++) { Col col2 = table.getCol().get(j); if (col2.isSetId() && col2.getId().equals(id)) { if (replace instanceof Col) { table.getCol().set(j, (Col) replace); return true; } else { throw new TagTypeUnmatchException(Col.class, replace.getClass()); } } } } if (table.isSetColgroup()) { for (int j = 0; j < table.getColgroup().size(); j++) { Colgroup cg = table.getColgroup().get(j); if (cg.isSetId() && cg.getId().equals(id)) { if (replace instanceof Colgroup) { table.getColgroup().set(j, (Colgroup) replace); return true; } else { throw new TagTypeUnmatchException(Colgroup.class, replace.getClass()); } } else { if (execute(id, cg, replace)) { return true; } } } } if (table.isSetTbody()) { for (int j = 0; j < table.getTbody().size(); j++) { Tbody tbody = table.getTbody().get(j); if (tbody.isSetId() && tbody.getId().equals(tbody)) { if (replace instanceof Tbody) { table.getTbody().set(j, (Tbody) replace); return true; } else { throw new TagTypeUnmatchException(Tbody.class, replace.getClass()); } } else { if (execute(id, tbody, replace)) { return true; } } } } if (table.isSetThead()) { Thead thead = table.getThead(); if (thead.isSetId() && thead.getId().equals(id)) { if (replace instanceof Thead) { table.setThead((Thead) replace); return true; } else { throw new TagTypeUnmatchException(Thead.class, replace.getClass()); } } else { if (execute(id, thead, replace)) { return true; } } } if (table.isSetTfoot()) { Tfoot tfoot = table.getTfoot(); if (tfoot.isSetId() && tfoot.getId().equals(id)) { if (replace instanceof Tfoot) { table.setTfoot((Tfoot) replace); return true; } else { throw new TagTypeUnmatchException(Tfoot.class, replace.getClass()); } } else { if (execute(id, tfoot, replace)) { return true; } } } if (table.isSetTr()) { for (int j = 0; j < table.getTr().size(); j++) { Tr tr = table.getTr().get(j); if (tr.isSetId() && tr.getId().equals(id)) { if (replace instanceof Tr) { table.getTr().set(j, (Tr) replace); return true; } else { throw new TagTypeUnmatchException(Tr.class, replace.getClass()); } } else { if (execute(id, tr, replace)) { return true; } } } } break; case TBODY: Tbody tbody = (Tbody) target; if (tbody.isSetTr()) { for (int j = 0; j < tbody.getTr().size(); j++) { Tr tr = tbody.getTr().get(j); if (tr.isSetId() && tr.getId().equals(id)) { if (replace instanceof Tr) { tbody.getTr().set(j, (Tr) replace); return true; } else { throw new TagTypeUnmatchException(Tr.class, replace.getClass()); } } else { if (execute(id, tr, replace)) { return true; } } } } break; case TD: Td td = (Td) target; if (td.isSetContent()) { return replaceByIdWithinObjectList(id, td.getContent(), replace); } break; case TEXTAREA: break; case TFOOT: Tfoot tfoot = (Tfoot) target; if (tfoot.isSetTr()) { for (int j = 0; j < tfoot.getTr().size(); j++) { Tr tr = tfoot.getTr().get(j); if (tr.isSetId() && tr.getId().equals(id)) { if (replace instanceof Tr) { tfoot.getTr().set(j, (Tr) replace); return true; } else { throw new TagTypeUnmatchException(Tr.class, replace.getClass()); } } else { if (execute(id, tr, replace)) { return true; } } } } break; case TH: Th th = (Th) target; if (th.isSetContent()) { return replaceByIdWithinObjectList(id, th.getContent(), replace); } break; case THEAD: Thead thead = (Thead) target; if (thead.isSetTr()) { for (int j = 0; j < thead.getTr().size(); j++) { Tr tr = thead.getTr().get(j); if (tr.isSetId() && tr.getId().equals(id)) { if (replace instanceof Tr) { thead.getTr().set(j, (Tr) replace); return true; } else { throw new TagTypeUnmatchException(Tr.class, replace.getClass()); } } else { if (execute(id, tr, replace)) { return true; } } } } break; case TITLE: break; case TR: Tr tr = (Tr) target; if (tr.isSetThOrTd()) { for (int j = 0; j < tr.getThOrTd().size(); j++) { Flow obj = tr.getThOrTd().get(j); if (id.equals(obj.getId())) { if (replace.getClass().equals(Td.class)) { tr.getThOrTd().set(j, (Td) replace); return true; } else if (replace.getClass().equals(Th.class)) { tr.getThOrTd().set(j, (Th) replace); return true; } else { throw new TagTypeUnmatchException(\"Td or Th expected, but replace is \" + replace.getClass()); } } else { if (execute(id, obj, replace)) { return true; } } } } break; case TT: Tt tt = (Tt) target; if (tt.isSetContent()) { return replaceByIdWithinObjectList(id, tt.getContent(), replace); } break; case U: U u = (U) target; if (u.isSetContent()) { return replaceByIdWithinObjectList(id, u.getContent(), replace); } break; case UL: Ul ul = (Ul) target; if (ul.isSetLi()) { for (int j = 0; j < ul.getLi().size(); j++) { Li li2 = ul.getLi().get(j); if (li2.isSetId() && li2.getId().equals(id)) { if (replace instanceof Li) { ul.getLi().set(j, (Li) replace); return true; } else { throw new TagTypeUnmatchException(Li.class, replace.getClass()); } } else { if (execute(id, li2, replace)) { return true; } } } } break; case VAR: Var var = (Var) target; if (var.isSetContent()) { return replaceByIdWithinObjectList(id, var.getContent(), replace); } break; case ARTICLE: Article article = (Article) target; if (article.isSetContent()) { return replaceByIdWithinObjectList(id, article.getContent(), replace); } break; case ASIDE: Aside aside = (Aside) target; if (aside.isSetContent()) { return replaceByIdWithinObjectList(id, aside.getContent(), replace); } break; case AUDIO: Audio audio = (Audio) target; if (audio.isSetContent()) { return replaceByIdWithinObjectList(id, audio.getContent(), replace); } break; case BDI: Bdi bdi = (Bdi) target; if (bdi.isSetContent()) { return replaceByIdWithinObjectList(id, bdi.getContent(), replace); } break; case CANVAS: Canvas canvas = (Canvas) target; if (canvas.isSetContent()) { return replaceByIdWithinObjectList(id, canvas.getContent(), replace); } break; case COMMAND: break; case DATALIST: Datalist datalist = (Datalist) target; if (datalist.isSetContent()) { return replaceByIdWithinObjectList(id, datalist.getContent(), replace); } break; case DETAILS: Details details = (Details) target; if (details.isSetContent()) { return replaceByIdWithinObjectList(id, details.getContent(), replace); } break; case EMBED: break; case FIGCAPTION: Figcaption figcaption = (Figcaption) target; if (figcaption.isSetContent()) { return replaceByIdWithinObjectList(id, figcaption.getContent(), replace); } break; case FIGURE: Figure figure = (Figure) target; if (figure.isSetContent()) { return replaceByIdWithinObjectList(id, figure.getContent(), replace); } break; case FOOTER: Footer footer = (Footer) target; if (footer.isSetContent()) { return replaceByIdWithinObjectList(id, footer.getContent(), replace); } break; case HEADER: Header header = (Header) target; if (header.isSetContent()) { return replaceByIdWithinObjectList(id, header.getContent(), replace); } break; case KEYGEN: break; case MARK: Mark mark = (Mark) target; if (mark.isSetContent()) { return replaceByIdWithinObjectList(id, mark.getContent(), replace); } break; case METER: Meter meter = (Meter) target; if (meter.isSetContent()) { return replaceByIdWithinObjectList(id, meter.getContent(), replace); } break; case NAV: Nav nav = (Nav) target; if (nav.isSetContent()) { return replaceByIdWithinObjectList(id, nav.getContent(), replace); } break; case OUTPUT: Output output = (Output) target; if (output.isSetContent()) { return replaceByIdWithinObjectList(id, output.getContent(), replace); } break; case PROGRESS: Progress progress = (Progress) target; if (progress.isSetContent()) { return replaceByIdWithinObjectList(id, progress.getContent(), replace); } break; case RP: Rp rp = (Rp) target; if (rp.isSetContent()) { return replaceByIdWithinObjectList(id, rp.getContent(), replace); } break; case RT: Rt rt = (Rt) target; if (rt.isSetContent()) { return replaceByIdWithinObjectList(id, rt.getContent(), replace); } break; case RUBY: Ruby ruby = (Ruby) target; if (ruby.isSetContent()) { return replaceByIdWithinObjectList(id, ruby.getContent(), replace); } break; case SECTION: Section section = (Section) target; if (section.isSetContent()) { return replaceByIdWithinObjectList(id, section.getContent(), replace); } break; case SOURCE: break; case SUMMARY: Summary summary = (Summary) target; if (summary.isSetContent()) { return replaceByIdWithinObjectList(id, summary.getContent(), replace); } break; case TIME: Time time = (Time) target; if (time.isSetContent()) { return replaceByIdWithinObjectList(id, time.getContent(), replace); } break; case TRACK: break; case VIDEO: Video video = (Video) target; if (video.isSetContent()) { return replaceByIdWithinObjectList(id, video.getContent(), replace); } break; case WBR: break; } return false; }\nprivate static <T extends AbstractJaxb> boolean execute(String id, T target, java.lang.Object replace) throws TagTypeUnmatchException { TagEnum tagEnum = TagEnum.valueOf(target.getClass().getSimpleName().toUpperCase()); if (id.equals(target.getId())) { return false; } switch(tagEnum) { case A: A a = (A) target; if (a.isSetContent()) { return replaceByIdWithinObjectList(id, a.getContent(), replace); } break; case ABBR: Abbr abbr = (Abbr) target; if (abbr.isSetContent()) { return replaceByIdWithinObjectList(id, abbr.getContent(), replace); } break; case ACRONYM: Acronym acronym = (Acronym) target; if (acronym.isSetContent()) { return replaceByIdWithinObjectList(id, acronym.getContent(), replace); } break; case ADDRESS: Address address = (Address) target; if (address.isSetContent()) { return replaceByIdWithinObjectList(id, address.getContent(), replace); } break; case APPLET: Applet applet = (Applet) target; if (applet.isSetContent()) { return replaceByIdWithinObjectList(id, applet.getContent(), replace); } break; case AREA: break; case B: B b = (B) target; if (b.isSetContent()) { return replaceByIdWithinObjectList(id, b.getContent(), replace); } break; case BASE: break; case BASEFONT: break; case BDO: Bdo bdo = (Bdo) target; if (bdo.isSetContent()) { return replaceByIdWithinObjectList(id, bdo.getContent(), replace); } break; case BIG: Big big = (Big) target; if (big.isSetContent()) { return replaceByIdWithinObjectList(id, big.getContent(), replace); } break; case BLOCKQUOTE: Blockquote blockquote = (Blockquote) target; if (blockquote.isSetContent()) { return replaceByIdWithinObjectList(id, blockquote.getContent(), replace); } break; case BODY: Body body = (Body) target; if (body.isSetContent()) { return replaceByIdWithinObjectList(id, body.getContent(), replace); } break; case BR: break; case BUTTON: Button button = (Button) target; if (button.isSetContent()) { return replaceByIdWithinObjectList(id, button.getContent(), replace); } break; case CAPTION: Caption caption = (Caption) target; if (caption.isSetContent()) { return replaceByIdWithinObjectList(id, caption.getContent(), replace); } break; case CENTER: Center center = (Center) target; if (center.isSetContent()) { return replaceByIdWithinObjectList(id, center.getContent(), replace); } break; case CITE: Cite cite = (Cite) target; if (cite.isSetContent()) { return replaceByIdWithinObjectList(id, cite.getContent(), replace); } break; case CODE: Code code = (Code) target; if (code.isSetContent()) { return replaceByIdWithinObjectList(id, code.getContent(), replace); } break; case COL: break; case COLGROUP: Colgroup colgroup = (Colgroup) target; if (colgroup.isSetCol()) { for (int i = 0; i < colgroup.getCol().size(); i++) { Col col1 = colgroup.getCol().get(i); if (col1.isSetId() && col1.getId().equals(col1)) { if (replace instanceof Col) { colgroup.getCol().set(i, (Col) replace); return true; } else { throw new TagTypeUnmatchException(Col.class, replace.getClass()); } } } } break; case DD: Dd dd = (Dd) target; if (dd.isSetContent()) { return replaceByIdWithinObjectList(id, dd.getContent(), replace); } break; case DEL: Del del = (Del) target; if (del.isSetContent()) { return replaceByIdWithinObjectList(id, del.getContent(), replace); } break; case DFN: Dfn dfn = (Dfn) target; if (dfn.isSetContent()) { return replaceByIdWithinObjectList(id, dfn.getContent(), replace); } break; case DIR: Dir dir = (Dir) target; if (dir.isSetLi()) { for (int i = 0; i < dir.getLi().size(); i++) { Li li = dir.getLi().get(i); if (li.isSetId() && li.getId().equals(id)) { if (replace instanceof Li) { dir.getLi().set(i, (Li) replace); return true; } else { throw new TagTypeUnmatchException(Li.class, replace.getClass()); } } else { if (execute(id, li, replace)) { return true; } } } } break; case DIV: Div div = (Div) target; if (div.isSetContent()) { return replaceByIdWithinObjectList(id, div.getContent(), replace); } break; case DL: Dl dl = (Dl) target; if (dl.isSetDtOrDd()) { for (int i = 0; i < dl.getDtOrDd().size(); i++) { AbstractJaxb obj = dl.getDtOrDd().get(i); if (id.equals(obj.getId())) { if (obj instanceof Dt || obj instanceof Dd) { dl.getDtOrDd().set(i, (AbstractJaxb) replace); return true; } else { throw new TagTypeUnmatchException(Dd.class, obj.getClass()); } } else { if (execute(id, obj, replace)) { return true; } } } } break; case DT: Dt dt = (Dt) target; if (dt.isSetContent()) { return replaceByIdWithinObjectList(id, dt.getContent(), replace); } break; case EM: Em em = (Em) target; if (em.isSetContent()) { return replaceByIdWithinObjectList(id, em.getContent(), replace); } break; case FIELDSET: Fieldset fieldset = (Fieldset) target; if (fieldset.isSetContent()) { return replaceByIdWithinObjectList(id, fieldset.getContent(), replace); } break; case FONT: Font font = (Font) target; if (font.isSetContent()) { return replaceByIdWithinObjectList(id, font.getContent(), replace); } break; case FORM: Form form = (Form) target; if (form.isSetContent()) { return replaceByIdWithinObjectList(id, form.getContent(), replace); } break; case H1: H1 h1 = (H1) target; if (h1.isSetContent()) { return replaceByIdWithinObjectList(id, h1.getContent(), replace); } break; case H2: H2 h2 = (H2) target; if (h2.isSetContent()) { return replaceByIdWithinObjectList(id, h2.getContent(), replace); } break; case H3: H3 h3 = (H3) target; if (h3.isSetContent()) { return replaceByIdWithinObjectList(id, h3.getContent(), replace); } break; case H4: H4 h4 = (H4) target; if (h4.isSetContent()) { return replaceByIdWithinObjectList(id, h4.getContent(), replace); } break; case H5: H5 h5 = (H5) target; if (h5.isSetContent()) { return replaceByIdWithinObjectList(id, h5.getContent(), replace); } break; case H6: H6 h6 = (H6) target; if (h6.isSetContent()) { return replaceByIdWithinObjectList(id, h6.getContent(), replace); } break; case HGROUP: Hgroup hgroup = (Hgroup) target; if (hgroup.isSetH1OrH2OrH3()) { for (AbstractJaxb aj : hgroup.getH1OrH2OrH3()) { if (execute(id, aj, replace)) { return true; } } } break; case HEAD: Head head = (Head) target; for (int j = 0; j < head.getContent().size(); j++) { AbstractJaxb obj = head.getContent().get(j); if (obj.isSetId() && obj.getId().equals(id)) { head.getContent().set(j, (AbstractJaxb) replace); return true; } else { if (execute(id, obj, replace)) { return true; } } } break; case HR: break; case HTML: Html html = (Html) target; if (html.isSetHead()) { if (execute(id, html.getHead(), replace)) { return true; } } if (html.isSetBody()) { if (execute(id, html.getBody(), replace)) { return true; } } break; case I: I i = (I) target; if (i.isSetContent()) { return replaceByIdWithinObjectList(id, i.getContent(), replace); } break; case IFRAME: Iframe iframe = (Iframe) target; if (iframe.isSetContent()) { return replaceByIdWithinObjectList(id, iframe.getContent(), replace); } break; case IMG: break; case INPUT: break; case INS: Ins ins = (Ins) target; if (ins.isSetContent()) { return replaceByIdWithinObjectList(id, ins.getContent(), replace); } break; case ISINDEX: break; case KBD: Kbd kbd = (Kbd) target; if (kbd.isSetContent()) { return replaceByIdWithinObjectList(id, kbd.getContent(), replace); } break; case LABEL: Label label = (Label) target; if (label.isSetContent()) { return replaceByIdWithinObjectList(id, label.getContent(), replace); } break; case LEGEND: Legend legend = (Legend) target; if (legend.isSetContent()) { return replaceByIdWithinObjectList(id, legend.getContent(), replace); } break; case LI: Li li = (Li) target; if (li.isSetContent()) { return replaceByIdWithinObjectList(id, li.getContent(), replace); } break; case LINK: break; case MAP: Map map = (Map) target; if (map.isSetArea()) { for (int j = 0; j < map.getArea().size(); j++) { Area area2 = map.getArea().get(j); if (area2.isSetId() && id.equals(area2.getId())) { map.getArea().set(j, (Area) replace); return true; } } } if (map.isSetPOrH1OrH2()) { for (int k = 0; k < map.getPOrH1OrH2().size(); k++) { AbstractJaxb obj = map.getPOrH1OrH2().get(k); if (id.equals(obj.getId())) { map.getPOrH1OrH2().set(k, (AbstractJaxb) replace); return true; } else { if (execute(id, obj, replace)) { return true; } } } } break; case MENU: Menu menu = (Menu) target; if (menu.isSetContent()) { return replaceByIdWithinObjectList(id, menu.getContent(), replace); } break; case META: break; case NOFRAMES: Noframes noframes = (Noframes) target; if (noframes.isSetContent()) { return replaceByIdWithinObjectList(id, noframes.getContent(), replace); } break; case NOSCRIPT: Noscript noscript = (Noscript) target; if (noscript.isSetContent()) { return replaceByIdWithinObjectList(id, noscript.getContent(), replace); } break; case OBJECT: org.mixer2.jaxb.xhtml.Object object = (org.mixer2.jaxb.xhtml.Object) target; if (object.isSetContent()) { return replaceByIdWithinObjectList(id, object.getContent(), replace); } break; case OL: Ol ol = (Ol) target; if (ol.isSetLi()) { for (int j = 0; j < ol.getLi().size(); j++) { Li li2 = ol.getLi().get(j); if (li2.isSetId() && li2.getId().equals(id)) { if (replace instanceof Li) { ol.getLi().set(j, (Li) replace); return true; } else { throw new TagTypeUnmatchException(Li.class, replace.getClass()); } } else { if (execute(id, li2, replace)) { return true; } } } } break; case OPTGROUP: Optgroup optgroup = (Optgroup) target; if (optgroup.isSetOption()) { for (int j = 0; j < optgroup.getOption().size(); j++) { Option option = optgroup.getOption().get(j); if (option.isSetId() && option.getId().equals(id)) { if (replace instanceof Option) { optgroup.getOption().set(j, (Option) replace); return true; } else { throw new TagTypeUnmatchException(Option.class, replace.getClass()); } } else { if (execute(id, option, replace)) { return true; } } } } break; case OPTION: break; case P: P p = (P) target; if (p.isSetContent()) { return replaceByIdWithinObjectList(id, p.getContent(), replace); } break; case PARAM: break; case PRE: Pre pre = (Pre) target; if (pre.isSetContent()) { return replaceByIdWithinObjectList(id, pre.getContent(), replace); } break; case Q: Q q = (Q) target; if (q.isSetContent()) { return replaceByIdWithinObjectList(id, q.getContent(), replace); } break; case S: S s = (S) target; if (s.isSetContent()) { return replaceByIdWithinObjectList(id, s.getContent(), replace); } break; case SAMP: Samp samp = (Samp) target; if (samp.isSetContent()) { return replaceByIdWithinObjectList(id, samp.getContent(), replace); } break; case SCRIPT: break; case SELECT: Select select = (Select) target; if (select.isSetOptgroupOrOption()) { for (int j = 0; j < select.getOptgroupOrOption().size(); j++) { AbstractJaxb obj = select.getOptgroupOrOption().get(j); if (id.equals(obj.getId())) { if (obj.getClass().equals(Optgroup.class) || obj.getClass().equals(Option.class)) { select.getOptgroupOrOption().set(j, (AbstractJaxb) replace); } else { throw new TagTypeUnmatchException(\"Option or Optgroup expected, but replace is \" + replace.getClass()); } return true; } else { if (execute(id, obj, replace)) { return true; } } } } break; case SMALL: Small small = (Small) target; if (small.isSetContent()) { return replaceByIdWithinObjectList(id, small.getContent(), replace); } break; case SPAN: Span span = (Span) target; if (span.isSetContent()) { return replaceByIdWithinObjectList(id, span.getContent(), replace); } break; case STRIKE: Strike strike = (Strike) target; if (strike.isSetContent()) { return replaceByIdWithinObjectList(id, strike.getContent(), replace); } break; case STRONG: Strong strong = (Strong) target; if (strong.isSetContent()) { return replaceByIdWithinObjectList(id, strong.getContent(), replace); } break; case STYLE: break; case SUB: Sub sub = (Sub) target; if (sub.isSetContent()) { return replaceByIdWithinObjectList(id, sub.getContent(), replace); } break; case SUP: Sup sup = (Sup) target; if (sup.isSetContent()) { return replaceByIdWithinObjectList(id, sup.getContent(), replace); } break; case TABLE: Table table = (Table) target; if (table.isSetCaption()) { Caption capt = table.getCaption(); if (capt.isSetId() && id.equals(capt.getId())) { if (replace instanceof Caption) { table.setCaption((Caption) replace); return true; } else { throw new TagTypeUnmatchException(Caption.class, replace.getClass()); } } else { if (replaceByIdWithinObjectList(id, capt.getContent(), replace)) { return true; } } } if (table.isSetCol()) { for (int j = 0; j < table.getCol().size(); j++) { Col col2 = table.getCol().get(j); if (col2.isSetId() && col2.getId().equals(id)) { if (replace instanceof Col) { table.getCol().set(j, (Col) replace); return true; } else { throw new TagTypeUnmatchException(Col.class, replace.getClass()); } } } } if (table.isSetColgroup()) { for (int j = 0; j < table.getColgroup().size(); j++) { Colgroup cg = table.getColgroup().get(j); if (cg.isSetId() && cg.getId().equals(id)) { if (replace instanceof Colgroup) { table.getColgroup().set(j, (Colgroup) replace); return true; } else { throw new TagTypeUnmatchException(Colgroup.class, replace.getClass()); } } else { if (execute(id, cg, replace)) { return true; } } } } if (table.isSetTbody()) { for (int j = 0; j < table.getTbody().size(); j++) { Tbody tbody = table.getTbody().get(j); if (tbody.isSetId() && tbody.getId().equals(tbody)) { if (replace instanceof Tbody) { table.getTbody().set(j, (Tbody) replace); return true; } else { throw new TagTypeUnmatchException(Tbody.class, replace.getClass()); } } else { if (execute(id, tbody, replace)) { return true; } } } } if (table.isSetThead()) { Thead thead = table.getThead(); if (thead.isSetId() && thead.getId().equals(id)) { if (replace instanceof Thead) { table.setThead((Thead) replace); return true; } else { throw new TagTypeUnmatchException(Thead.class, replace.getClass()); } } else { if (execute(id, thead, replace)) { return true; } } } if (table.isSetTfoot()) { Tfoot tfoot = table.getTfoot(); if (tfoot.isSetId() && tfoot.getId().equals(id)) { if (replace instanceof Tfoot) { table.setTfoot((Tfoot) replace); return true; } else { throw new TagTypeUnmatchException(Tfoot.class, replace.getClass()); } } else { if (execute(id, tfoot, replace)) { return true; } } } if (table.isSetTr()) { for (int j = 0; j < table.getTr().size(); j++) { Tr tr = table.getTr().get(j); if (tr.isSetId() && tr.getId().equals(id)) { if (replace instanceof Tr) { table.getTr().set(j, (Tr) replace); return true; } else { throw new TagTypeUnmatchException(Tr.class, replace.getClass()); } } else { if (execute(id, tr, replace)) { return true; } } } } break; case TBODY: Tbody tbody = (Tbody) target; if (tbody.isSetTr()) { for (int j = 0; j < tbody.getTr().size(); j++) { Tr tr = tbody.getTr().get(j); if (tr.isSetId() && tr.getId().equals(id)) { if (replace instanceof Tr) { tbody.getTr().set(j, (Tr) replace); return true; } else { throw new TagTypeUnmatchException(Tr.class, replace.getClass()); } } else { if (execute(id, tr, replace)) { return true; } } } } break; case TD: Td td = (Td) target; if (td.isSetContent()) { return replaceByIdWithinObjectList(id, td.getContent(), replace); } break; case TEXTAREA: break; case TFOOT: Tfoot tfoot = (Tfoot) target; if (tfoot.isSetTr()) { for (int j = 0; j < tfoot.getTr().size(); j++) { Tr tr = tfoot.getTr().get(j); if (tr.isSetId() && tr.getId().equals(id)) { if (replace instanceof Tr) { tfoot.getTr().set(j, (Tr) replace); return true; } else { throw new TagTypeUnmatchException(Tr.class, replace.getClass()); } } else { if (execute(id, tr, replace)) { return true; } } } } break; case TH: Th th = (Th) target; if (th.isSetContent()) { return replaceByIdWithinObjectList(id, th.getContent(), replace); } break; case THEAD: Thead thead = (Thead) target; if (thead.isSetTr()) { for (int j = 0; j < thead.getTr().size(); j++) { Tr tr = thead.getTr().get(j); if (tr.isSetId() && tr.getId().equals(id)) { if (replace instanceof Tr) { thead.getTr().set(j, (Tr) replace); return true; } else { throw new TagTypeUnmatchException(Tr.class, replace.getClass()); } } else { if (execute(id, tr, replace)) { return true; } } } } break; case TITLE: break; case TR: Tr tr = (Tr) target; if (tr.isSetThOrTd()) { for (int j = 0; j < tr.getThOrTd().size(); j++) { Flow obj = tr.getThOrTd().get(j); if (id.equals(obj.getId())) { if (replace.getClass().equals(Td.class)) { tr.getThOrTd().set(j, (Td) replace); return true; } else if (replace.getClass().equals(Th.class)) { tr.getThOrTd().set(j, (Th) replace); return true; } else { throw new TagTypeUnmatchException(\"Td or Th expected, but replace is \" + replace.getClass()); } } else { if (execute(id, obj, replace)) { return true; } } } } break; case TT: Tt tt = (Tt) target; if (tt.isSetContent()) { return replaceByIdWithinObjectList(id, tt.getContent(), replace); } break; case U: U u = (U) target; if (u.isSetContent()) { return replaceByIdWithinObjectList(id, u.getContent(), replace); } break; case UL: Ul ul = (Ul) target; if (ul.isSetLi()) { for (int j = 0; j < ul.getLi().size(); j++) { Li li2 = ul.getLi().get(j); if (li2.isSetId() && li2.getId().equals(id)) { if (replace instanceof Li) { ul.getLi().set(j, (Li) replace); return true; } else { throw new TagTypeUnmatchException(Li.class, replace.getClass()); } } else { if (execute(id, li2, replace)) { return true; } } } } break; case VAR: Var var = (Var) target; if (var.isSetContent()) { return replaceByIdWithinObjectList(id, var.getContent(), replace); } break; case ARTICLE: Article article = (Article) target; if (article.isSetContent()) { return replaceByIdWithinObjectList(id, article.getContent(), replace); } break; case ASIDE: Aside aside = (Aside) target; if (aside.isSetContent()) { return replaceByIdWithinObjectList(id, aside.getContent(), replace); } break; case AUDIO: Audio audio = (Audio) target; if (audio.isSetContent()) { return replaceByIdWithinObjectList(id, audio.getContent(), replace); } break; case BDI: Bdi bdi = (Bdi) target; if (bdi.isSetContent()) { return replaceByIdWithinObjectList(id, bdi.getContent(), replace); } break; case CANVAS: Canvas canvas = (Canvas) target; if (canvas.isSetContent()) { return replaceByIdWithinObjectList(id, canvas.getContent(), replace); } break; case COMMAND: break; case DATALIST: Datalist datalist = (Datalist) target; if (datalist.isSetContent()) { return replaceByIdWithinObjectList(id, datalist.getContent(), replace); } break; case DETAILS: Details details = (Details) target; if (details.isSetContent()) { return replaceByIdWithinObjectList(id, details.getContent(), replace); } break; case EMBED: break; case FIGCAPTION: Figcaption figcaption = (Figcaption) target; if (figcaption.isSetContent()) { return replaceByIdWithinObjectList(id, figcaption.getContent(), replace); } break; case FIGURE: Figure figure = (Figure) target; if (figure.isSetContent()) { return replaceByIdWithinObjectList(id, figure.getContent(), replace); } break; case FOOTER: Footer footer = (Footer) target; if (footer.isSetContent()) { return replaceByIdWithinObjectList(id, footer.getContent(), replace); } break; case HEADER: Header header = (Header) target; if (header.isSetContent()) { return replaceByIdWithinObjectList(id, header.getContent(), replace); } break; case KEYGEN: break; case MARK: Mark mark = (Mark) target; if (mark.isSetContent()) { return replaceByIdWithinObjectList(id, mark.getContent(), replace); } break; case METER: Meter meter = (Meter) target; if (meter.isSetContent()) { return replaceByIdWithinObjectList(id, meter.getContent(), replace); } break; case NAV: Nav nav = (Nav) target; if (nav.isSetContent()) { return replaceByIdWithinObjectList(id, nav.getContent(), replace); } break; case OUTPUT: Output output = (Output) target; if (output.isSetContent()) { return replaceByIdWithinObjectList(id, output.getContent(), replace); } break; case PROGRESS: Progress progress = (Progress) target; if (progress.isSetContent()) { return replaceByIdWithinObjectList(id, progress.getContent(), replace); } break; case RP: Rp rp = (Rp) target; if (rp.isSetContent()) { return replaceByIdWithinObjectList(id, rp.getContent(), replace); } break; case RT: Rt rt = (Rt) target; if (rt.isSetContent()) { return replaceByIdWithinObjectList(id, rt.getContent(), replace); } break; case RUBY: Ruby ruby = (Ruby) target; if (ruby.isSetContent()) { return replaceByIdWithinObjectList(id, ruby.getContent(), replace); } break; case SECTION: Section section = (Section) target; if (section.isSetContent()) { return replaceByIdWithinObjectList(id, section.getContent(), replace); } break; case SOURCE: break; case SUMMARY: Summary summary = (Summary) target; if (summary.isSetContent()) { return replaceByIdWithinObjectList(id, summary.getContent(), replace); } break; case TIME: Time time = (Time) target; if (time.isSetContent()) { return replaceByIdWithinObjectList(id, time.getContent(), replace); } break; case TRACK: break; case VIDEO: Video video = (Video) target; if (video.isSetContent()) { return replaceByIdWithinObjectList(id, video.getContent(), replace); } break; case WBR: break; } return false; }",
                },
                
                # LLM Pretraining Data Sample in the Pair
                {
                        "id": "pretrain_java_data_19375096", ##Unique Data ID for LLM Pretraining Data
                        "content": "package org.mixer2.xhtml.util;\nimport java.util.List;\nimport org.apache.commons.logging.Log;\nimport org.apache.commons.logging.LogFactory;\nimport org.mixer2.jaxb.xhtml.*;\nimport org.mixer2.xhtml.AbstractJaxb;\nimport org.mixer2.xhtml.TagEnum;\nimport org.mixer2.xhtml.exception.TagTypeUnmatchException;\n/**\n*\n* @see org.mixer2.xhtml.AbstractJaxb#replaceById(String, String)\n* @see org.mixer2.xhtml.AbstractJaxb#replaceById(String, AbstractJaxb)\n* @author watanabe\n*\n*/\npublic class ReplaceByIdUtil {\n@SuppressWarnings(\"unused\")\nprivate static Log log = LogFactory.getLog(ReplaceByIdUtil.class);\n/**\n* target\u306e\u5b50\u5b6b\u8981\u7d20\u306e\u3046\u3061\u3001\u6307\u5b9a\u3057\u305fid\u5c5e\u6027\u3092\u6301\u3064\u8981\u7d20\u3092\u7f6e\u63db\u3057\u307e\u3059\u3002 \u306a\u304a\u3001replace\u306e\u30c7\u30a3\u30fc\u30d7\u30b3\u30d4\u30fc\u3067\u7f6e\u63db\u3055\u308c\u307e\u3059\u3002\n* target\u81ea\u8eab\u3092\u7f6e\u63db\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002\n*\n* @param <T>\n* @param id\n* @param target\n* @param replace\n* @return\n* @throws TagTypeUnmatchException\n* @throws Exception\n*/\npublic static <T extends AbstractJaxb> boolean replaceById(String id,\nT target, T replace) throws TagTypeUnmatchException {\nreturn execute(id, target, replace.copy(replace.getClass()));\n}\npublic static <T extends AbstractJaxb> boolean replaceById(String id,\nT target, String replace) throws TagTypeUnmatchException {\nreturn execute(id, target, replace);\n}\n@SuppressWarnings(\"unchecked\")\nprivate static <T extends AbstractJaxb> boolean replaceByIdWithinObjectList(\nString id, List<java.lang.Object> list, java.lang.Object replace)\nthrows TagTypeUnmatchException {\nfor (int i = 0; i < list.size(); i++) {\njava.lang.Object obj = list.get(i);\nif (obj == null || obj instanceof java.lang.String) {\ncontinue;\n}\nif (id.equals(((AbstractJaxb)obj).getId())) {\nlist.set(i, replace);\nreturn true;\n} else {\nif (replace instanceof AbstractJaxb\n&& execute(id, (T) obj, (T) replace)) {\nreturn true;\n}\nif (replace instanceof String\n&& execute(id, (T) obj, (String) replace)) {\nreturn true;\n}\n}\n}\nreturn false;\n}\nprivate static <T extends AbstractJaxb> boolean execute(String id,\nT target, java.lang.Object replace) throws TagTypeUnmatchException {\nTagEnum tagEnum = TagEnum.valueOf(target.getClass().getSimpleName()\n.toUpperCase());\nif (id.equals(target.getId())) {\nreturn false;\n}\nswitch (tagEnum) {\ncase A:\nA a = (A) target;\nif (a.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, a.getContent(), replace);\n}\nbreak;\ncase ABBR:\nAbbr abbr = (Abbr) target;\nif (abbr.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, abbr.getContent(),\nreplace);\n}\nbreak;\ncase ACRONYM:\nAcronym acronym = (Acronym) target;\nif (acronym.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, acronym.getContent(),\nreplace);\n}\nbreak;\ncase ADDRESS:\nAddress address = (Address) target;\nif (address.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, address.getContent(),\nreplace);\n}\nbreak;\ncase APPLET:\nApplet applet = (Applet) target;\nif (applet.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, applet.getContent(),\nreplace);\n}\nbreak;\ncase AREA:\n// area is empty element.\nbreak;\ncase B:\nB b = (B) target;\nif (b.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, b.getContent(), replace);\n}\nbreak;\ncase BASE:\n// empty element.\nbreak;\ncase BASEFONT:\n// empty element.\nbreak;\ncase BDO:\nBdo bdo = (Bdo) target;\nif (bdo.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, bdo.getContent(),\nreplace);\n}\nbreak;\ncase BIG:\nBig big = (Big) target;\nif (big.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, big.getContent(),\nreplace);\n}\nbreak;\ncase BLOCKQUOTE:\nBlockquote blockquote = (Blockquote) target;\nif (blockquote.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, blockquote.getContent(),\nreplace);\n}\nbreak;\ncase BODY:\nBody body = (Body) target;\nif (body.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, body.getContent(),\nreplace);\n}\nbreak;\ncase BR:\n// empty element.\nbreak;\ncase BUTTON:\nButton button = (Button) target;\nif (button.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, button.getContent(),\nreplace);\n}\nbreak;\ncase CAPTION:\nCaption caption = (Caption) target;\nif (caption.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, caption.getContent(),\nreplace);\n}\nbreak;\ncase CENTER:\nCenter center = (Center) target;\nif (center.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, center.getContent(),\nreplace);\n}\nbreak;\ncase CITE:\nCite cite = (Cite) target;\nif (cite.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, cite.getContent(),\nreplace);\n}\nbreak;\ncase CODE:\nCode code = (Code) target;\nif (code.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, code.getContent(),\nreplace);\n}\nbreak;\ncase COL:\n// empty element.\nbreak;\ncase COLGROUP:\nColgroup colgroup = (Colgroup) target;\nif (colgroup.isSetCol()) {\nfor (int i = 0; i < colgroup.getCol().size(); i++) {\nCol col1 = colgroup.getCol().get(i);\nif (col1.isSetId() && col1.getId().equals(col1)) {\nif (replace instanceof Col) {\ncolgroup.getCol().set(i, (Col) replace);\nreturn true;\n} else {\nthrow new TagTypeUnmatchException(Col.class,\nreplace.getClass());\n}\n}\n}\n}\nbreak;\ncase DD:\nDd dd = (Dd) target;\nif (dd.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, dd.getContent(), replace);\n}\nbreak;\ncase DEL:\nDel del = (Del) target;\nif (del.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, del.getContent(),\nreplace);\n}\nbreak;\ncase DFN:\nDfn dfn = (Dfn) target;\nif (dfn.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, dfn.getContent(),\nreplace);\n}\nbreak;\ncase DIR:\nDir dir = (Dir) target;\nif (dir.isSetLi()) {\nfor (int i = 0; i < dir.getLi().size(); i++) {\nLi li = dir.getLi().get(i);\nif (li.isSetId() && li.getId().equals(id)) {\nif (replace instanceof Li) {\ndir.getLi().set(i, (Li) replace);\nreturn true;\n} else {\nthrow new TagTypeUnmatchException(Li.class, replace\n.getClass());\n}\n} else {\nif (execute(id, li, replace)) {\nreturn true;\n}\n}\n}\n}\nbreak;\ncase DIV:\nDiv div = (Div) target;\nif (div.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, div.getContent(),\nreplace);\n}\nbreak;\ncase DL:\nDl dl = (Dl) target;\nif (dl.isSetDtOrDd()) {\nfor (int i = 0; i < dl.getDtOrDd().size(); i++) {\nAbstractJaxb obj = dl.getDtOrDd().get(i);\nif (id.equals(obj.getId())) {\nif (obj instanceof Dt || obj instanceof Dd) {\ndl.getDtOrDd().set(i, (AbstractJaxb) replace);\nreturn true;\n} else {\nthrow new TagTypeUnmatchException(Dd.class, obj\n.getClass());\n}\n} else {\nif (execute(id, obj, replace)) {\nreturn true;\n}\n}\n}\n}\nbreak;\ncase DT:\nDt dt = (Dt) target;\nif (dt.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, dt.getContent(), replace);\n}\nbreak;\ncase EM:\nEm em = (Em) target;\nif (em.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, em.getContent(), replace);\n}\nbreak;\ncase FIELDSET:\nFieldset fieldset = (Fieldset) target;\nif (fieldset.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, fieldset.getContent(),\nreplace);\n}\nbreak;\ncase FONT:\nFont font = (Font) target;\nif (font.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, font.getContent(),\nreplace);\n}\nbreak;\ncase FORM:\nForm form = (Form) target;\nif (form.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, form.getContent(),\nreplace);\n}\nbreak;\ncase H1:\nH1 h1 = (H1) target;\nif (h1.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, h1.getContent(), replace);\n}\nbreak;\ncase H2:\nH2 h2 = (H2) target;\nif (h2.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, h2.getContent(), replace);\n}\nbreak;\ncase H3:\nH3 h3 = (H3) target;\nif (h3.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, h3.getContent(), replace);\n}\nbreak;\ncase H4:\nH4 h4 = (H4) target;\nif (h4.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, h4.getContent(), replace);\n}\nbreak;\ncase H5:\nH5 h5 = (H5) target;\nif (h5.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, h5.getContent(), replace);\n}\nbreak;\ncase H6:\nH6 h6 = (H6) target;\nif (h6.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, h6.getContent(), replace);\n}\nbreak;\ncase HGROUP:\nHgroup hgroup = (Hgroup) target;\nif (hgroup.isSetH1OrH2OrH3()) {\nfor (AbstractJaxb aj : hgroup.getH1OrH2OrH3()) {\nif (execute(id, aj, replace)) {\nreturn true;\n}\n}\n}\nbreak;\ncase HEAD:\nHead head = (Head) target;\nfor (int j = 0; j < head.getContent().size(); j++) {\nAbstractJaxb obj = head.getContent().get(j);\nif (obj.isSetId() && obj.getId().equals(id)) {\nhead.getContent().set(j, (AbstractJaxb) replace);\nreturn true;\n} else {\nif (execute(id, obj, replace)) {\nreturn true;\n}\n}\n}\nbreak;\ncase HR:\n// hr is empty element.\nbreak;\ncase HTML:\nHtml html = (Html) target;\nif (html.isSetHead()) {\nif (execute(id, html.getHead(), replace)) {\nreturn true;\n}\n}\nif (html.isSetBody()) {\nif (execute(id, html.getBody(), replace)) {\nreturn true;\n}\n}\nbreak;\ncase I:\nI i = (I) target;\nif (i.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, i.getContent(), replace);\n}\nbreak;\ncase IFRAME:\nIframe iframe = (Iframe) target;\nif (iframe.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, iframe.getContent(),\nreplace);\n}\nbreak;\ncase IMG:\n// img is empty element.\nbreak;\ncase INPUT:\n// input is empty element.\nbreak;\ncase INS:\nIns ins = (Ins) target;\nif (ins.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, ins.getContent(),\nreplace);\n}\nbreak;\ncase ISINDEX:\n// empty element.\nbreak;\ncase KBD:\nKbd kbd = (Kbd) target;\nif (kbd.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, kbd.getContent(),\nreplace);\n}\nbreak;\ncase LABEL:\nLabel label = (Label) target;\nif (label.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, label.getContent(),\nreplace);\n}\nbreak;\ncase LEGEND:\nLegend legend = (Legend) target;\nif (legend.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, legend.getContent(),\nreplace);\n}\nbreak;\ncase LI:\nLi li = (Li) target;\nif (li.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, li.getContent(), replace);\n}\nbreak;\ncase LINK:\n// empty element.\nbreak;\ncase MAP:\nMap map = (Map) target;\nif (map.isSetArea()) {\nfor (int j = 0; j < map.getArea().size(); j++) {\nArea area2 = map.getArea().get(j);\nif (area2.isSetId() && id.equals(area2.getId())) {\nmap.getArea().set(j, (Area) replace);\nreturn true;\n}\n// area has no child element.\n}\n}\nif (map.isSetPOrH1OrH2()) {\nfor (int k = 0; k < map.getPOrH1OrH2().size(); k++) {\nAbstractJaxb obj = map.getPOrH1OrH2().get(k);\nif (id.equals(obj.getId())) {\nmap.getPOrH1OrH2().set(k, (AbstractJaxb) replace);\nreturn true;\n} else {\nif (execute(id, obj, replace)) {\nreturn true;\n}\n}\n}\n}\nbreak;\ncase MENU:\nMenu menu = (Menu) target;\nif (menu.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, menu.getContent(),\nreplace);\n}\nbreak;\ncase META:\n// empty element.\nbreak;\ncase NOFRAMES:\nNoframes noframes = (Noframes) target;\nif (noframes.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, noframes.getContent(),\nreplace);\n}\nbreak;\ncase NOSCRIPT:\nNoscript noscript = (Noscript) target;\nif (noscript.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, noscript.getContent(),\nreplace);\n}\nbreak;\ncase OBJECT:\norg.mixer2.jaxb.xhtml.Object object = (org.mixer2.jaxb.xhtml.Object) target;\nif (object.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, object.getContent(),\nreplace);\n}\nbreak;\ncase OL:\nOl ol = (Ol) target;\nif (ol.isSetLi()) {\nfor (int j = 0; j < ol.getLi().size(); j++) {\nLi li2 = ol.getLi().get(j);\nif (li2.isSetId() && li2.getId().equals(id)) {\nif (replace instanceof Li) {\nol.getLi().set(j, (Li) replace);\nreturn true;\n} else {\nthrow new TagTypeUnmatchException(Li.class, replace\n.getClass());\n}\n} else {\nif (execute(id, li2, replace)) {\nreturn true;\n}\n}\n}\n}\nbreak;\ncase OPTGROUP:\nOptgroup optgroup = (Optgroup) target;\nif (optgroup.isSetOption()) {\nfor (int j = 0; j < optgroup.getOption().size(); j++) {\nOption option = optgroup.getOption().get(j);\nif (option.isSetId() && option.getId().equals(id)) {\nif (replace instanceof Option) {\noptgroup.getOption().set(j, (Option) replace);\nreturn true;\n} else {\nthrow new TagTypeUnmatchException(Option.class,\nreplace.getClass());\n}\n} else {\nif (execute(id, option, replace)) {\nreturn true;\n}\n}\n}\n}\nbreak;\ncase OPTION:\n// option tag includes no other element.\nbreak;\ncase P:\nP p = (P) target;\nif (p.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, p.getContent(), replace);\n}\nbreak;\ncase PARAM:\n// param is empty element.\nbreak;\ncase PRE:\nPre pre = (Pre) target;\nif (pre.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, pre.getContent(),\nreplace);\n}\nbreak;\ncase Q:\nQ q = (Q) target;\nif (q.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, q.getContent(), replace);\n}\nbreak;\ncase S:\nS s = (S) target;\nif (s.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, s.getContent(), replace);\n}\nbreak;\ncase SAMP:\nSamp samp = (Samp) target;\nif (samp.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, samp.getContent(),\nreplace);\n}\nbreak;\ncase SCRIPT:\n// script include no other element.\nbreak;\ncase SELECT:\nSelect select = (Select) target;\nif (select.isSetOptgroupOrOption()) {\nfor (int j = 0; j < select.getOptgroupOrOption().size(); j++) {\nAbstractJaxb obj = select.getOptgroupOrOption().get(j);\nif (id.equals(obj.getId())) {\nif (obj.getClass().equals(Optgroup.class)\n|| obj.getClass().equals(Option.class)) {\nselect.getOptgroupOrOption().set(j,\n(AbstractJaxb) replace);\n} else {\nthrow new TagTypeUnmatchException(\n\"Option or Optgroup expected, but replace is \"\n+ replace.getClass());\n}\nreturn true;\n} else {\nif (execute(id, obj, replace)) {\nreturn true;\n}\n}\n}\n}\nbreak;\ncase SMALL:\nSmall small = (Small) target;\nif (small.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, small.getContent(),\nreplace);\n}\nbreak;\ncase SPAN:\nSpan span = (Span) target;\nif (span.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, span.getContent(),\nreplace);\n}\nbreak;\ncase STRIKE:\nStrike strike = (Strike) target;\nif (strike.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, strike.getContent(),\nreplace);\n}\nbreak;\ncase STRONG:\nStrong strong = (Strong) target;\nif (strong.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, strong.getContent(),\nreplace);\n}\nbreak;\ncase STYLE:\n// has no other element.\nbreak;\ncase SUB:\nSub sub = (Sub) target;\nif (sub.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, sub.getContent(),\nreplace);\n}\nbreak;\ncase SUP:\nSup sup = (Sup) target;\nif (sup.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, sup.getContent(),\nreplace);\n}\nbreak;\ncase TABLE:\nTable table = (Table) target;\nif (table.isSetCaption()) {\nCaption capt = table.getCaption();\nif (capt.isSetId() && id.equals(capt.getId())) {\nif (replace instanceof Caption) {\ntable.setCaption((Caption) replace);\nreturn true;\n} else {\nthrow new TagTypeUnmatchException(Caption.class,\nreplace.getClass());\n}\n} else {\nif (replaceByIdWithinObjectList(id, capt.getContent(),\nreplace)) {\nreturn true;\n}\n}\n}\nif (table.isSetCol()) {\nfor (int j = 0; j < table.getCol().size(); j++) {\nCol col2 = table.getCol().get(j);\nif (col2.isSetId() && col2.getId().equals(id)) {\nif (replace instanceof Col) {\ntable.getCol().set(j, (Col) replace);\nreturn true;\n} else {\nthrow new TagTypeUnmatchException(Col.class,\nreplace.getClass());\n}\n}\n}\n}\nif (table.isSetColgroup()) {\nfor (int j = 0; j < table.getColgroup().size(); j++) {\nColgroup cg = table.getColgroup().get(j);\nif (cg.isSetId() && cg.getId().equals(id)) {\nif (replace instanceof Colgroup) {\ntable.getColgroup().set(j, (Colgroup) replace);\nreturn true;\n} else {\nthrow new TagTypeUnmatchException(Colgroup.class,\nreplace.getClass());\n}\n} else {\nif (execute(id, cg, replace)) {\nreturn true;\n}\n}\n}\n}\nif (table.isSetTbody()) {\nfor (int j = 0; j < table.getTbody().size(); j++) {\nTbody tbody = table.getTbody().get(j);\nif (tbody.isSetId() && tbody.getId().equals(tbody)) {\nif (replace instanceof Tbody) {\ntable.getTbody().set(j, (Tbody) replace);\nreturn true;\n} else {\nthrow new TagTypeUnmatchException(Tbody.class,\nreplace.getClass());\n}\n} else {\nif (execute(id, tbody, replace)) {\nreturn true;\n}\n}\n}\n}\nif (table.isSetThead()) {\nThead thead = table.getThead();\nif (thead.isSetId() && thead.getId().equals(id)) {\nif (replace instanceof Thead) {\ntable.setThead((Thead) replace);\nreturn true;\n} else {\nthrow new TagTypeUnmatchException(Thead.class, replace\n.getClass());\n}\n} else {\nif (execute(id, thead, replace)) {\nreturn true;\n}\n}\n}\nif (table.isSetTfoot()) {\nTfoot tfoot = table.getTfoot();\nif (tfoot.isSetId() && tfoot.getId().equals(id)) {\nif (replace instanceof Tfoot) {\ntable.setTfoot((Tfoot) replace);\nreturn true;\n} else {\nthrow new TagTypeUnmatchException(Tfoot.class, replace\n.getClass());\n}\n} else {\nif (execute(id, tfoot, replace)) {\nreturn true;\n}\n}\n}\nif (table.isSetTr()) {\nfor (int j = 0; j < table.getTr().size(); j++) {\nTr tr = table.getTr().get(j);\nif (tr.isSetId() && tr.getId().equals(id)) {\nif (replace instanceof Tr) {\ntable.getTr().set(j, (Tr) replace);\nreturn true;\n} else {\nthrow new TagTypeUnmatchException(Tr.class, replace\n.getClass());\n}\n} else {\nif (execute(id, tr, replace)) {\nreturn true;\n}\n}\n}\n}\nbreak;\ncase TBODY:\nTbody tbody = (Tbody) target;\nif (tbody.isSetTr()) {\nfor (int j = 0; j < tbody.getTr().size(); j++) {\nTr tr = tbody.getTr().get(j);\nif (tr.isSetId() && tr.getId().equals(id)) {\nif (replace instanceof Tr) {\ntbody.getTr().set(j, (Tr) replace);\nreturn true;\n} else {\nthrow new TagTypeUnmatchException(Tr.class, replace\n.getClass());\n}\n} else {\nif (execute(id, tr, replace)) {\nreturn true;\n}\n}\n}\n}\nbreak;\ncase TD:\nTd td = (Td) target;\nif (td.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, td.getContent(), replace);\n}\nbreak;\ncase TEXTAREA:\n// textarea has no other element.\nbreak;\ncase TFOOT:\nTfoot tfoot = (Tfoot) target;\nif (tfoot.isSetTr()) {\nfor (int j = 0; j < tfoot.getTr().size(); j++) {\nTr tr = tfoot.getTr().get(j);\nif (tr.isSetId() && tr.getId().equals(id)) {\nif (replace instanceof Tr) {\ntfoot.getTr().set(j, (Tr) replace);\nreturn true;\n} else {\nthrow new TagTypeUnmatchException(Tr.class, replace\n.getClass());\n}\n} else {\nif (execute(id, tr, replace)) {\nreturn true;\n}\n}\n}\n}\nbreak;\ncase TH:\nTh th = (Th) target;\nif (th.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, th.getContent(), replace);\n}\nbreak;\ncase THEAD:\nThead thead = (Thead) target;\nif (thead.isSetTr()) {\nfor (int j = 0; j < thead.getTr().size(); j++) {\nTr tr = thead.getTr().get(j);\nif (tr.isSetId() && tr.getId().equals(id)) {\nif (replace instanceof Tr) {\nthead.getTr().set(j, (Tr) replace);\nreturn true;\n} else {\nthrow new TagTypeUnmatchException(Tr.class, replace\n.getClass());\n}\n} else {\nif (execute(id, tr, replace)) {\nreturn true;\n}\n}\n}\n}\nbreak;\ncase TITLE:\n// has no other element.\nbreak;\ncase TR:\nTr tr = (Tr) target;\nif (tr.isSetThOrTd()) {\nfor (int j = 0; j < tr.getThOrTd().size(); j++) {\nFlow obj = tr.getThOrTd().get(j);\nif (id.equals(obj.getId())) {\nif (replace.getClass().equals(Td.class)) {\ntr.getThOrTd().set(j, (Td) replace);\nreturn true;\n} else if (replace.getClass().equals(Th.class)) {\ntr.getThOrTd().set(j, (Th) replace);\nreturn true;\n} else {\nthrow new TagTypeUnmatchException(\n\"Td or Th expected, but replace is \"\n+ replace.getClass());\n}\n} else {\nif (execute(id, obj, replace)) {\nreturn true;\n}\n}\n}\n}\nbreak;\ncase TT:\nTt tt = (Tt) target;\nif (tt.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, tt.getContent(), replace);\n}\nbreak;\ncase U:\nU u = (U) target;\nif (u.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, u.getContent(), replace);\n}\nbreak;\ncase UL:\nUl ul = (Ul) target;\nif (ul.isSetLi()) {\nfor (int j = 0; j < ul.getLi().size(); j++) {\nLi li2 = ul.getLi().get(j);\nif (li2.isSetId() && li2.getId().equals(id)) {\nif (replace instanceof Li) {\nul.getLi().set(j, (Li) replace);\nreturn true;\n} else {\nthrow new TagTypeUnmatchException(Li.class, replace\n.getClass());\n}\n} else {\nif (execute(id, li2, replace)) {\nreturn true;\n}\n}\n}\n}\nbreak;\ncase VAR:\nVar var = (Var) target;\nif (var.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, var.getContent(),\nreplace);\n}\nbreak;\ncase ARTICLE:\nArticle article = (Article) target;\nif (article.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, article.getContent(),\nreplace);\n}\nbreak;\ncase ASIDE:\nAside aside = (Aside) target;\nif (aside.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, aside.getContent(),\nreplace);\n}\nbreak;\ncase AUDIO:\nAudio audio = (Audio) target;\nif (audio.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, audio.getContent(),\nreplace);\n}\nbreak;\ncase BDI:\nBdi bdi = (Bdi) target;\nif (bdi.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, bdi.getContent(),\nreplace);\n}\nbreak;\ncase CANVAS:\nCanvas canvas = (Canvas) target;\nif (canvas.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, canvas.getContent(),\nreplace);\n}\nbreak;\ncase COMMAND:\n// empty element\nbreak;\ncase DATALIST:\nDatalist datalist = (Datalist) target;\nif (datalist.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, datalist.getContent(),\nreplace);\n}\nbreak;\ncase DETAILS:\nDetails details = (Details) target;\nif (details.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, details.getContent(),\nreplace);\n}\nbreak;\ncase EMBED:\n// empty element\nbreak;\ncase FIGCAPTION:\nFigcaption figcaption = (Figcaption) target;\nif (figcaption.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, figcaption.getContent(),\nreplace);\n}\nbreak;\ncase FIGURE:\nFigure figure = (Figure) target;\nif (figure.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, figure.getContent(),\nreplace);\n}\nbreak;\ncase FOOTER:\nFooter footer = (Footer) target;\nif (footer.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, footer.getContent(),\nreplace);\n}\nbreak;\ncase HEADER:\nHeader header = (Header) target;\nif (header.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, header.getContent(),\nreplace);\n}\nbreak;\ncase KEYGEN:\n// empty element\nbreak;\ncase MARK:\nMark mark = (Mark) target;\nif (mark.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, mark.getContent(),\nreplace);\n}\nbreak;\ncase METER:\nMeter meter = (Meter) target;\nif (meter.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, meter.getContent(),\nreplace);\n}\nbreak;\ncase NAV:\nNav nav = (Nav) target;\nif (nav.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, nav.getContent(),\nreplace);\n}\nbreak;\ncase OUTPUT:\nOutput output = (Output) target;\nif (output.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, output.getContent(),\nreplace);\n}\nbreak;\ncase PROGRESS:\nProgress progress = (Progress) target;\nif (progress.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, progress.getContent(),\nreplace);\n}\nbreak;\ncase RP:\nRp rp = (Rp) target;\nif (rp.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, rp.getContent(), replace);\n}\nbreak;\ncase RT:\nRt rt = (Rt) target;\nif (rt.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, rt.getContent(), replace);\n}\nbreak;\ncase RUBY:\nRuby ruby = (Ruby) target;\nif (ruby.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, ruby.getContent(),\nreplace);\n}\nbreak;\ncase SECTION:\nSection section = (Section) target;\nif (section.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, section.getContent(),\nreplace);\n}\nbreak;\ncase SOURCE:\n// empty element\nbreak;\ncase SUMMARY:\nSummary summary = (Summary) target;\nif (summary.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, summary.getContent(),\nreplace);\n}\nbreak;\ncase TIME:\nTime time = (Time) target;\nif (time.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, time.getContent(),\nreplace);\n}\nbreak;\ncase TRACK:\n// empty element\nbreak;\ncase VIDEO:\nVideo video = (Video) target;\nif (video.isSetContent()) {\nreturn replaceByIdWithinObjectList(id, video.getContent(),\nreplace);\n}\nbreak;\ncase WBR:\n// empty element\nbreak;\n}\nreturn false;\n}\n}",
                },
                
                # Manually Annotated Label for the Pair
                {
                        "real_dup": "3" ##The values of '2' and '3' indicate 'duplicate'. The values of '0' and '1' indicate the 'non-duplicate'.
                }
        ]
```
We mainly note those leaked samples, thus, by ignoring the leaked samples we can have a clear version of original benchmarks.


## AutoLeakDetect-Bench

We include both leaked and non-leaked SE benchmark data samples to form a new dataset, named AutoDetectLeak-Bench. Specifically, we extract the manually labeled 
leaked and non-leaked samples and perform a deduplication process. Since the dataset is imbalanced,
we apply random under-sampling to equalize the number of leaked and non-leaked samples.

You can find our data at 'auto-leak-detection-bench-balanced.pkl'

## PPL-based Leakage Detection (No Access to LLM Pre-training Data)

To evaluate the effectiveness of using perplexity to infer benchmark data leakage,
we rank all labeled samples in our dataset based on ascending Perplexity scores. The top-k samples,
which have the lowest Perplexity, suggest higher LLM confidence and are hypothesized to be more
likely leaked.

To generate the PPL scores:
```
python ppl_calculation.py
```

To obtain the accuracy achieved by ranking PPL scores:
```
python auto_leakdet_ppl_ranking
```
